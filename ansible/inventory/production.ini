# ===========================================================================
# ANSIBLE INVENTORY - AUTO-GENERATED FROM OPENTOFU
# ===========================================================================
# DO NOT EDIT MANUALLY - Changes will be overwritten!
# To regenerate: python3 import-tofu-to-ansible.py
#
# CTF TEAM STRUCTURE:
#   - Grey Team (scoring): Competition infrastructure
#   - Blue Team (windows_dc, blue_*): Defenders
#   - Red Team (red_team): Attackers
# ===========================================================================

# ---------------------------------------------------------------------------
# SCORING SERVERS (Grey Team)
# ---------------------------------------------------------------------------
# Grey Team runs the competition: scoring engine, monitoring, infrastructure.
[scoring]
scoring-1 ansible_host=100.65.3.221 internal_ip=10.10.10.11 host_services='["ping", "ssh"]'

# ---------------------------------------------------------------------------
# BLUE TEAM WINDOWS VMS
# ---------------------------------------------------------------------------
# Windows VMs for Blue Team to defend. First VM is Domain Controller.
[blue_windows]
dc01 ansible_host=100.65.4.78 internal_ip=10.10.10.21 host_services='["dns", "ldap", "ping", "rdp", "smb", "winrm"]'
wks-alpha ansible_host=100.65.6.135 internal_ip=10.10.10.22 host_services='["ping", "rdp", "smb", "winrm"]'
wks-debbie ansible_host=100.65.6.52 internal_ip=10.10.10.23 host_services='["ping", "rdp", "winrm"]'
blue-win-4 ansible_host=100.65.5.4 internal_ip=10.10.10.24 host_services='["ping", "rdp", "winrm"]'
blue-win-5 ansible_host=100.65.4.29 internal_ip=10.10.10.25 host_services='["ping", "rdp", "winrm"]'
blue-win-6 ansible_host=100.65.3.138 internal_ip=10.10.10.26 host_services='["ping", "rdp", "winrm"]'
blue-win-7 ansible_host=100.65.3.191 internal_ip=10.10.10.27 host_services='["ping", "rdp", "winrm"]'
blue-win-8 ansible_host=100.65.6.26 internal_ip=10.10.10.28 host_services='["ping", "rdp", "winrm"]'
blue-win-9 ansible_host=100.65.5.253 internal_ip=10.10.10.29 host_services='["ping", "rdp", "winrm"]'
blue-win-10 ansible_host=100.65.2.94 internal_ip=10.10.10.30 host_services='["ping", "rdp", "winrm"]'
blue-win-11 ansible_host=100.65.2.161 internal_ip=10.10.10.31 host_services='["ping", "rdp", "winrm"]'
blue-win-12 ansible_host=100.65.3.223 internal_ip=10.10.10.32 host_services='["ping", "rdp", "winrm"]'
blue-win-13 ansible_host=100.65.6.145 internal_ip=10.10.10.33 host_services='["ping", "rdp", "winrm"]'
blue-win-14 ansible_host=100.65.2.219 internal_ip=10.10.10.34 host_services='["ping", "rdp", "winrm"]'
blue-win-15 ansible_host=100.65.3.2 internal_ip=10.10.10.35 host_services='["ping", "rdp", "winrm"]'

# ---------------------------------------------------------------------------
# BLUE TEAM LINUX VMS
# ---------------------------------------------------------------------------
# Linux servers for Blue Team to defend (web, database, etc.)
[blue_linux]
webserver ansible_host=100.65.6.31 internal_ip=10.10.10.101 host_services='["ftp", "ping", "ssh", "web"]'
comms ansible_host=100.65.2.232 internal_ip=10.10.10.102 host_services='["irc", "mail", "ping", "sql", "ssh"]'
blue-linux-3 ansible_host=100.65.4.248 internal_ip=10.10.10.103 host_services='["ping", "ssh"]'
blue-linux-4 ansible_host=100.65.5.234 internal_ip=10.10.10.104 host_services='["ping", "ssh"]'
blue-linux-5 ansible_host=100.65.2.14 internal_ip=10.10.10.105 host_services='["ping", "ssh"]'

# ---------------------------------------------------------------------------
# RED TEAM KALI VMS
# ---------------------------------------------------------------------------
# Kali attack machines for Red Team. Pre-loaded with pentesting tools.
[red_team]
red-kali-1 ansible_host=100.65.2.165 internal_ip=10.10.10.151 host_services='[]'
red-kali-2 ansible_host=100.65.3.43 internal_ip=10.10.10.152 host_services='[]'
red-kali-3 ansible_host=100.65.3.81 internal_ip=10.10.10.153 host_services='[]'
red-kali-4 ansible_host=100.65.6.45 internal_ip=10.10.10.154 host_services='[]'
red-kali-5 ansible_host=100.65.3.87 internal_ip=10.10.10.155 host_services='[]'
red-kali-6 ansible_host=100.65.2.37 internal_ip=10.10.10.156 host_services='[]'
red-kali-7 ansible_host=100.65.2.177 internal_ip=10.10.10.157 host_services='[]'
red-kali-8 ansible_host=100.65.3.143 internal_ip=10.10.10.158 host_services='[]'
red-kali-9 ansible_host=100.65.3.116 internal_ip=10.10.10.159 host_services='[]'
red-kali-10 ansible_host=100.65.6.243 internal_ip=10.10.10.160 host_services='[]'

# ---------------------------------------------------------------------------
# ROLE-BASED GROUPS
# ---------------------------------------------------------------------------
# These groups organize VMs by their role in the domain.

# Domain Controller - the first Blue Windows VM
[windows_dc]
dc01

# Windows member servers (domain members, not DC)
[blue_windows_members]
wks-alpha
wks-debbie
blue-win-4
blue-win-5
blue-win-6
blue-win-7
blue-win-8
blue-win-9
blue-win-10
blue-win-11
blue-win-12
blue-win-13
blue-win-14
blue-win-15

# Linux domain members (join Active Directory)
[blue_linux_members]
webserver
comms
blue-linux-3
blue-linux-4
blue-linux-5

# ---------------------------------------------------------------------------
# GROUP HIERARCHIES
# ---------------------------------------------------------------------------
# :children syntax creates parent groups containing other groups.
# This allows running playbooks against broad categories.

# All Windows VMs (for Windows-specific playbooks)
[windows:children]
windows_dc
blue_windows_members

# All Blue Team VMs (for Blue Team configuration)
[blue_team:children]
blue_windows
blue_linux

# All Linux VMs (for Linux-specific playbooks)
[linux_members:children]
blue_linux_members
red_team
scoring

# ---------------------------------------------------------------------------
# SERVICE GROUPS (auto-generated from OpenTofu service_hosts)
# ---------------------------------------------------------------------------
# These groups are created from the service_hosts variable in variables.tf.
# Use them to target playbooks: ansible-playbook playbooks/setup-web.yml
# The playbook automatically runs against hosts in the [web] group.

[dns]
dc01

[ftp]
webserver

[irc]
comms

[ldap]
dc01

[mail]
comms

[ping]
blue-linux-3
blue-linux-4
blue-linux-5
blue-win-10
blue-win-11
blue-win-12
blue-win-13
blue-win-14
blue-win-15
blue-win-4
blue-win-5
blue-win-6
blue-win-7
blue-win-8
blue-win-9
comms
dc01
scoring-1
webserver
wks-alpha
wks-debbie

[rdp]
blue-win-10
blue-win-11
blue-win-12
blue-win-13
blue-win-14
blue-win-15
blue-win-4
blue-win-5
blue-win-6
blue-win-7
blue-win-8
blue-win-9
dc01
wks-alpha
wks-debbie

[smb]
dc01
wks-alpha

[sql]
comms

[ssh]
blue-linux-3
blue-linux-4
blue-linux-5
comms
scoring-1
webserver

[web]
webserver

[winrm]
blue-win-10
blue-win-11
blue-win-12
blue-win-13
blue-win-14
blue-win-15
blue-win-4
blue-win-5
blue-win-6
blue-win-7
blue-win-8
blue-win-9
dc01
wks-alpha
wks-debbie

# All VMs in the CTF
[all_vms:children]
scoring
blue_team
red_team

# ---------------------------------------------------------------------------
# GROUP VARIABLES
# ---------------------------------------------------------------------------
# Connection settings for each group. These can be overridden in group_vars/
# Note: Kali may use 'kali' as default user depending on image

[all:vars]
ansible_user=cyberrange
ansible_password=Cyberrange123!
ansible_python_interpreter=/usr/bin/python3


# ---------------------------------------------------------------------------
# USAGE EXAMPLES
# ---------------------------------------------------------------------------
# Run playbook on all Blue Team VMs:
#   ansible-playbook -i inventory/production.ini playbooks/site.yml --limit blue_team
#
# Run playbook on Domain Controller only:
#   ansible-playbook -i inventory/production.ini playbooks/setup-domain-controller.yml --limit windows_dc
#
# Test connectivity to all Windows VMs:
#   ansible windows -i inventory/production.ini -m win_ping
#
# Test connectivity to Red Team VMs:
#   ansible red_team -i inventory/production.ini -m ping
# ---------------------------------------------------------------------------
