---
# ==============================================================================
# LINUX DOMAIN MEMBER ROLE - HANDLERS
# ==============================================================================
# Handlers are tasks that run when notified by other tasks
# They only run once even if notified multiple times

- name: Restart sssd
  ansible.builtin.service:
    name: sssd
    state: restarted

- name: Restart ssh
  ansible.builtin.service:
    name: ssh
    state: restarted

- name: Restart samba
  ansible.builtin.service:
    name: smbd
    state: restarted
  failed_when: false  # Samba might not be running yet
---
# =============================================================================
# MySQL Handlers
# =============================================================================
# Handlers are special tasks that only run when "notified" by another task.
# This is useful for restarting services only when configuration changes.

- name: Restart MySQL
  ansible.builtin.service:
    name: mysql
    state: restarted